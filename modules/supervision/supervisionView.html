<d2-authorization menuoption="See Contratos"></d2-authorization>

<div class="row">
<div class="col-md-4">
	<h2>{{'CONTRACT_SUPERVISION_TITTLE' | translate}}</h2>
</div>
</div>

<div class="row">
<div class="col-md-11">
<h3> Supervisor : {{supervisor.id}} {{supervisor.name}} </h3>
</div>
</div>

<div class="row">
<div class="col-md-11">

<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">

   <div class="panel panel-success">
      <div class="panel-heading" role="tab" id="headingFive">
        <h4 class="panel-title">
          <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#supervision#collapseFive" aria-expanded="true" aria-controls="collapseFive">
            Activos <span class="badge">{{NumContract.activos}}</span>
          </a>
        </h4>
      </div>
      <div id="collapseFive" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFive">
        <div class="panel-body">
          <table class="table table-hover">
            <tr>
              <th>Contratista</th>
              <th>Contrato</th>
              <th>fecha</th>
              <th>Ver Contrato</th>
              <th>Detalles</th>

            </tr>
              <tr ng-repeat="ct in Currentcontract">
                <td>{{ct.contratista}}</td>
                <td>{{ct.nContrato}}</td>
                <td>{{ct.fContrato}}</td>
                <td><a  target="_blank" href="{{ct.rCompleta}}">{{ct.rContrato}}</a></td>
                <td><button class="btn btn-default" type="submit" ng-click="openAditionalInfo(ct.event)">Ver detalle</button></td>
              </tr>
            </table>
          </div>
      </div>
    </div>

   <div class="panel panel-warning">
    <div class="panel-heading" role="tab" id="headingOne">
      <h4 class="panel-title">
        <a data-toggle="collapse" data-parent="#accordion" href="#supervision#collapseOne" aria-expanded="false" aria-controls="collapseOne">
          proximos a vencer<span class="badge">{{NumContract.proximos}}</span>
        </a>
      </h4>
    </div>
    <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
      <div class="panel-body">
          <table class="table table-hover">
            <tr>
              <th>Contratista</th>
              <th>Contrato</th>
              <th>fecha</th>
              <th>Ver Contrato</th>
              <th>Detalles</th>

            </tr>
            <tr ng-repeat="ct in NextContract">
              <td>{{ct.contratista}}</td>
              <td>{{ct.nContrato}}</td>
              <td>{{ct.fContrato}}</td>
              <td><a  target="_blank" href="{{ct.rCompleta}}">{{ct.rContrato}}</a></td>
              <td><button class="btn btn-default" type="submit" ng-click="openAditionalInfo(ct.event)">Ver detalle</button></td>
            </tr>
          </table>
      </div>
    </div>
  </div>



  <div class="panel panel-danger">
    <div class="panel-heading" role="tab" id="headingTwo">
      <h4 class="panel-title">
        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#supervision#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
         Pendientes por liquidar <span class="badge">{{NumContract.liquidar}}</span>
        </a>
      </h4>
    </div>
    <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
      <div class="panel-body">
        <table class="table table-hover">
            <tr>
              <th>Contratista</th>
              <th>Contrato</th>
              <th>fecha</th>
              <th>Ver Contrato</th>
              <th>Detalles</th>

            </tr>
            <tr ng-repeat="ct in EndContract">
              <td>{{ct.contratista}}</td>
              <td>{{ct.nContrato}}</td>
              <td>{{ct.fContrato}}</td>
              <td><a  target="_blank" href="{{ct.rCompleta}}">{{ct.rContrato}}</a></td>
              <td><button class="btn btn-default" type="submit" ng-click="openAditionalInfo(ct.event)">Ver detalle</button></td>
            </tr>
         </table>
        </div>
    </div>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingThree">
      <h4 class="panel-title">
        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#supervision#collapseThree" aria-expanded="false" aria-controls="collapseThree">
          contratos supervisados <span class="badge">{{NumContract.otros}}</span>
        </a>
      </h4>
    </div>
    <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
      <div class="panel-body">
        <table class="table table-hover">
            <tr>
              <th>Contratista</th>
              <th>Contrato</th>
              <th>fecha</th>
              <th>Ver Contrato</th>
              <th>Detalles</th>

            </tr>
            <tr ng-repeat="ct in OtherContract">
              <td>{{ct.contratista}}</td>
              <td>{{ct.nContrato}}</td>
              <td>{{ct.fContrato}}</td>
              <td><a  target="_blank" href="{{ct.rCompleta}}">{{ct.rContrato}}</a></td>
              <td><button class="btn btn-default" type="submit" ng-click="openAditionalInfo(ct.event)">Ver detalle</button></td>
            </tr>
          </table>
        </div>
    </div>
  </div>

    <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingFour">
      <h4 class="panel-title">
        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#supervision#collapseFour" aria-expanded="false" aria-controls="collapseFour">
          Otros Contratos <span class="badge">{{NumContract.resto}}</span>
        </a>
      </h4>
    </div>
    <div id="collapseFour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour">
      <div class="panel-body">
        <table class="table table-hover">
            <tr>
              <th>Contratista</th>
              <th>Supervisor</th>
              <th>Contrato</th>
              <th>fecha</th>
              <th>Ver Contrato</th>
              <th>Detalles</th>

            </tr>
            <tr ng-repeat="ctr in RestContract track by $index">
              <td>{{ctr.contratista}}</td>
              <th>{{ctr.Supervisor}}</th>
              <td>{{ctr.nContrato}}</td>
              <td>{{ctr.fContrato}}</td>
              <td><a  target="_blank" href="{{ct.rCompleta}}">{{ctr.rContrato}}</a></td>
              <td><button class="btn btn-default" type="submit" ng-click="openAditionalInfo(ctr.event)">Ver detalle</button></td>
            </tr>
          </table>
        </div>
    </div>
  </div>

  
</div>
</div>
<div class="col-md-11">
</div>
</div>



    <script type="text/ng-template" id="ModalContentSupervisor.html">
        <div class="modal-header">
            <h3 class="modal-title">Detalles del Contrato</h3>
        </div>
        <div class="modal-body">
        <tabset>
          <tab ng-repeat="tab in info" heading="{{tab.title}}">
            <table class="table table-hover">
              <tr>
                <th>Atributo</th>
                <th>Valor</th>
              </tr>
              <tr ng-repeat="dt in tab.datavalues">
                <th>{{dt.title}}</th>
                <td>{{dt.value}}</td>

              </tr>
          </table> 
          </tab>    
        </tabset>
        </div>
        <div class="modal-footer">
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </script>


